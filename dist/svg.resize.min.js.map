{"version":3,"file":"svg.resize.min.js","sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../src/svg.resize.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { Element, extend, on, off, Box } from \"@svgdotjs/svg.js\";\n\nconst getCoordsFromEvent = (ev) => {\n  if (ev.changedTouches) {\n    ev = ev.changedTouches[0];\n  }\n  return { x: ev.clientX, y: ev.clientY };\n};\n\nexport class ResizeHandler {\n  constructor(el) {\n    this.el = el;\n    this.lastCoordinates = null;\n    this.eventType = \"\";\n    this.handleResize = this.handleResize.bind(this);\n    this.resize = this.resize.bind(this);\n    this.endResize = this.endResize.bind(this);\n    this.rotate = this.rotate.bind(this);\n    this.shear = this.shear.bind(this);\n  }\n\n  active(value) {\n    // remove all resize events\n    this.el.off(\".resize\");\n\n    if (!value) return;\n\n    this.el.on(\n      [\n        \"lt.resize\",\n        \"rt.resize\",\n        \"rb.resize\",\n        \"lb.resize\",\n        \"t.resize\",\n        \"r.resize\",\n        \"b.resize\",\n        \"l.resize\",\n        \"rot.resize\",\n        \"shear.resize\"\n      ],\n      this.handleResize\n    );\n  }\n\n  // This is called when a user clicks on one of the resize points\n  handleResize(e) {\n    this.eventType = e.type;\n    const { x: startX, y: startY, event } = e.detail;\n    const isMouse = !event.type.indexOf(\"mouse\");\n\n    // Check for left button\n    if (isMouse && (event.which || event.buttons) !== 1) {\n      return;\n    }\n\n    // Fire beforedrag event\n    if (\n      this.el.dispatch(\"beforeresize\", { event: e, handler: this })\n        .defaultPrevented\n    ) {\n      return;\n    }\n\n    this.box = this.el.bbox();\n    this.startPoint = this.el.point(startX, startY);\n\n    // We consider the resize done, when a touch is canceled, too\n    const eventMove = (isMouse ? \"mousemove\" : \"touchmove\") + \".resize\";\n    const eventEnd\n      = (isMouse ? \"mouseup\" : \"touchcancel.resize touchend\") + \".resize\";\n\n    // Bind resize and end events to window\n    if (e.type === \"rot\") {\n      on(window, eventMove, this.rotate);\n    } else if (e.type === \"shear\") {\n      on(window, eventMove, this.shear);\n    } else {\n      // resize\n      on(window, eventMove, this.resize);\n    }\n    on(window, eventEnd, this.endResize);\n  }\n\n  resize(e) {\n    const endPoint = this.el.point(getCoordsFromEvent(e));\n    const dx = endPoint.x - this.startPoint.x;\n    const dy = endPoint.y - this.startPoint.y;\n\n    const x = this.box.x + dx;\n    const y = this.box.y + dy;\n    const x2 = this.box.x2 + dx;\n    const y2 = this.box.y2 + dy;\n\n    const box = new Box(this.box);\n\n    if (this.eventType.includes(\"l\")) {\n      box.x = Math.min(x, this.box.x2);\n      box.x2 = Math.max(x, this.box.x2);\n    }\n\n    if (this.eventType.includes(\"r\")) {\n      box.x = Math.min(x2, this.box.x);\n      box.x2 = Math.max(x2, this.box.x);\n    }\n\n    if (this.eventType.includes(\"t\")) {\n      box.y = Math.min(y, this.box.y2);\n      box.y2 = Math.max(y, this.box.y2);\n    }\n\n    if (this.eventType.includes(\"b\")) {\n      box.y = Math.min(y2, this.box.y);\n      box.y2 = Math.max(y2, this.box.y);\n    }\n\n    box.width = box.x2 - box.x;\n    box.height = box.y2 - box.y;\n\n    if (\n      this.el.dispatch(\"resize\", {\n        box: new Box(box),\n        angle: 0,\n        shear: 0,\n        eventType: this.eventType,\n        event: e,\n        handler: this\n      }).defaultPrevented\n    ) {\n      return;\n    }\n\n    this.el.move(box.x, box.y).size(box.width, box.height);\n  }\n\n  rotate(e) {\n    const endPoint = this.el.point(getCoordsFromEvent(e));\n    const cx = this.box.cx;\n    const cy = this.box.cy;\n    const dx1 = this.startPoint.x - cx;\n    const dy1 = this.startPoint.y - cy;\n    const dx2 = endPoint.x - cx;\n    const dy2 = endPoint.y - cy;\n    const factor = 180 / Math.PI;\n    const sAngle = Math.atan2(dx1, dy1);\n    const pAngle = Math.atan2(dx2, dy2);\n    const angle = sAngle - pAngle;\n\n    if (\n      this.el.dispatch(\"resize\", {\n        box: this.startBox,\n        angle: angle,\n        shear: 0,\n        eventType: this.eventType,\n        event: e,\n        handler: this\n      }).defaultPrevented\n    ) {\n      return;\n    }\n\n    this.el.rotate(angle * factor);\n  }\n\n  shear(e) {\n    const endPoint = this.el.point(getCoordsFromEvent(e));\n    const cx = this.box.cx;\n    const cy = this.box.cy;\n    const dx1 = this.startPoint.x - cx;\n    const dy1 = this.startPoint.y - cy;\n    const dx2 = endPoint.x - cx;\n    const factor = 180 / Math.PI;\n    const sAngle = Math.atan2(dx1, dy1);\n    const pAngle = Math.atan2(dx2, dy1);\n    const angle = pAngle - sAngle;\n\n    if (\n      this.el.dispatch(\"resize\", {\n        box: this.startBox,\n        angle: 0,\n        shear: angle,\n        eventType: this.eventType,\n        event: e,\n        handler: this\n      }).defaultPrevented\n    ) {\n      return;\n    }\n\n    this.el.skew(factor * angle, 0);\n  }\n\n  endResize(ev) {\n    // Unbind resize and end events to window\n    if (this.eventType !== \"rot\" && this.eventType !== \"shear\") {\n      this.resize(ev);\n    }\n\n    this.eventType = \"\";\n    off(window, \"mousemove.resize touchmove.resize\");\n    off(window, \"mouseup.resize touchend.resize\");\n  }\n\n  snapToGrid(box, xGrid, yGrid = xGrid) {\n    // TODO: Snap helper function\n  }\n}\n\nextend(Element, {\n  // Resize element with mouse\n  resize: function (enabled = true) {\n    let resizeHandler = this.remember(\"_resizeHandler\");\n\n    if (!resizeHandler) {\n      if (enabled.prototype instanceof ResizeHandler) {\n        /* eslint new-cap: [\"error\", { \"newIsCap\": false }] */\n        resizeHandler = new enabled(this);\n        enabled = true;\n      } else {\n        resizeHandler = new ResizeHandler(this);\n      }\n\n      this.remember(\"_resizeHandler\", resizeHandler);\n    }\n\n    resizeHandler.active(enabled);\n\n    return this;\n  }\n});\n\nexport default ResizeHandler;\n"],"names":["getCoordsFromEvent","ev","changedTouches","x","clientX","y","clientY","ResizeHandler","el","lastCoordinates","eventType","handleResize","bind","resize","endResize","rotate","shear","value","off","on","e","type","detail","startX","startY","event","isMouse","indexOf","which","buttons","dispatch","handler","defaultPrevented","box","bbox","startPoint","point","eventMove","eventEnd","window","endPoint","dx","dy","x2","y2","Box","includes","Math","min","max","width","height","angle","move","size","cx","cy","dx1","dy1","dx2","dy2","factor","PI","sAngle","atan2","pAngle","startBox","skew","xGrid","extend","Element","enabled","resizeHandler","remember","prototype","active"],"mappings":"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"}